<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.asiainfo.abdinfo.dao.AttendanceDao">
	<!-- mybatis中最关键的标签：resultMap -->
	<resultMap type="com.asiainfo.abdinfo.po.Person" id="atPerson">
		<id property="staffCode" column="staffCode"/>
		<collection property="attendance" ofType="com.asiainfo.abdinfo.po.Attendance" column="staffCode">
		
		</collection>
	</resultMap>
	
	<select id="selectAttendance" parameterType="java.util.Map" resultMap="atPerson">
	SELECT  
	    [年度] as attYear,
      [考勤期间] as arrMonth,
      [人员编码] as staffCode,
      [姓名] as staffName,
      isNULL(最终迟到,0) as lateNum,
      isnull([无薪假天数],0)  as leaveNum,
      isnull([最终加班],0)  as overtime
      FROM [DW].[dbo].[KQ_jcsj]
      WHERE [人员编码]='15110204' AND 年度='2018'
      order by 年度 desc,考勤期间 asc
	</select>
	
	
    
	

</mapper>